.card.card-overlay {

    .card-img-bottom {
        width: 100%;
    }

    padding-top: 0;
    padding-bottom: 0;
    margin:0;

    .card-title-wrap,
    .force-block.force-block.force-block.card-title-wrap {
        pointer-events: none;
        padding:          2rem;
        background: $brand-primary;
        color:            #FFFFFF;
        transition:       background-color 300ms, opacity 600ms;
        text-shadow: none;

        &.pull-right {
            float: none;
        }

        &.card-title-wrap-link{
            pointer-events: auto;
            @extend .faux-link-block;

            display:       block;
            color:         #FFFFFF;
            padding-right: 3rem;
            cursor:        pointer;

            &:hover {
                text-decoration:  none;
                background: lighten($brand-primary, 5%);
            }

            &:after {
                position:    absolute;
                top:         50%;
                top:         calc(50% - 1rem);
                right:       1rem;
                font-size:   2rem;
                line-height: 2rem;
                line-height: calc(2rem); // IE11 workaround
                content:     $kf-angle-right;
                font-family: $font-family-kentfont;
                z-index: -1;
            }
        }

        .card-title {
            font-family:    $font-family-serif;
            font-weight:    normal;
            text-transform: uppercase;
            color:          $brand-accent-light;
            font-size:      2rem;
            line-height:    2.3rem;
            margin-top: 0;

            @include media-breakpoint-up(md) {
                font-size: 2.2rem;
            }
        }

        .card-text {
            font-family: $font-family-serif;
            color:       #FFFFFF;
        }

         }

    .card-title, .card-subtitle {
        font-family: $font-family-serif;
    }

    .card-img-overlay {
        text-decoration: none;

        .card-subtitle {
            font-size:   1.8rem;
            font-weight: normal;

            @include media-breakpoint-up(lg) {
                font-size: 2.4rem;
            }
            @include media-breakpoint-up(xl) {
                font-size: 2.8rem;
            }
            @include media-breakpoint-up(xxl) {
                font-size: 4rem;
            }

            &.quote{

                margin: 0 5% 1rem;

                &:before {
                    font-size:   1.3em;
                    content:     '\201C';
                    line-height: 1rem;
                    line-height: calc(1rem); // IE11 workaround
                }
                &:after {
                    font-size:   1.3em;
                    content:     '\201D';
                    line-height: 1rem;
                    line-height: calc(1rem); // IE11 workaround
                }

                @include media-breakpoint-up(lg) {
                    font-size: 1.7rem;
                }
                @include media-breakpoint-up(xl) {
                    font-size: 2.4rem;
                    margin-bottom: 2rem;
                }
                @include media-breakpoint-up(xxl) {
                    font-size: 3.5rem;
                }
            }
        }
        .card-text {

            @include media-breakpoint-up(md) {
                font-size: 1.3rem;
            }
            @include media-breakpoint-up(lg) {
                font-size: 1.5rem;
            }
            @include media-breakpoint-up(xxl) {
                font-size: 2.1rem;
            }
        }

        .card-text, .card-subtitle {
            text-shadow: 0 2px 2px rgba(0, 0, 0, .9);
            color:       #FFFFFF;

            &.no-shadow {
              text-shadow: none;
            }
        }


        &.card-img-overlay-block {
            position: relative;
        }

        &.card-img-overlay-link{

            .card-subtitle {

                &:after {
                    vertical-align: text-bottom;
                    padding-left:   .5rem;
                }
                &:hover {
                    &:after {
                        padding-left: .7rem;
                    }
                }

                @include media-breakpoint-up(md) {
                    &:after {
                        vertical-align: text-bottom;
                        padding-left:   1rem;
                    }
                    &:hover {
                        &:after {
                            padding-left: 1.2rem;
                        }
                    }
                }

            }
            &.text-xs-right {
                .card-text {
                    margin-right: 1.3rem;
                }
                @include media-breakpoint-up(md) {

                    .card-subtitle {
                        margin-right: 2rem;
                    }
                    .card-text {
                        margin-right: 3.2rem;
                    }
                }
            }

        }

    }

    .card-media-wrap, .card-embed-wrap {

        @extend .media-wrap-letterbox;

        margin-bottom: 0;

    }

    .card-footer {
        padding: 0;

        .chevron-link {
            display:       block;
            padding:       0.75rem 1.5rem;
            background:    $brand-secondary;
            border-bottom: 1px solid #CCCCCC;
            &:after {
                position: absolute;
                right:    1rem;
            }

            @include media-breakpoint-up(md) {
                display:        table-cell;
                text-align:     center;
                float:          none;
                width:          1%;
                vertical-align: top;
                padding:        0;
                background:     none;
                border:         none;
                &:after {
                    position: relative;
                    right:    auto;
                }
            }
        }

        @include media-breakpoint-up(md) {
            padding:      0.75rem 1.25rem;
        }

    }

    &.card-media-inline {
        &.card-media-enabled {
            .card-img-overlay-bottom {
                opacity:        0;
                pointer-events: none;
            }
            @include media-breakpoint-up(md) {
                .card-title-wrap,
                .force-block.force-block.force-block.card-title-wrap {
                    opacity: 0;
                    pointer-events: none;
                }
            }
            .card-media-wrap, .card-embed-wrap {
                max-height: 150vh;
            }
        }
    }

    @include media-breakpoint-up(md) {
        .card-title-wrap,
        .force-block.force-block.force-block.card-title-wrap {
            position: absolute;
            width:    40%;
            left:     5%;
            top:      -($card-overlay-amount);
            bottom: auto;
            z-index:  1;

            &.pull-bottom {
                top: auto;
                bottom: 0;
            }

            &.card-title-wrap-link {
                position: absolute;
            }

            &.pull-right {
                left:  inherit;
                right: 5%;
            }

            &.content-contained {

                @include media-breakpoint-up(md){
                    left: calc(12% - 15px);
                }
                @include media-breakpoint-up(lg){
                   left: 5%;
                }
                @include media-breakpoint-up(xl){
                    left: 9%;
                }
                @media (min-width: $article-max-breakpoint) {
                    left: calc( ((100% - #{$content-container-max-width}) / 2) + 15px );
                }

                &.pull-right {
                    left:auto;

                    @include media-breakpoint-up(md){
                        right: calc(12% + 15px);
                    }
                    @include media-breakpoint-up(lg){
                        right: calc(5% + 45px); // 15px right + 15px padd
                    }
                    @include media-breakpoint-up(xl){
                        right: 9%;
                    }
                    @media (min-width: $article-max-breakpoint) {
                        right: calc( ((100% - #{$content-container-max-width}) / 2) + 15px );
                    }
                }
            }
        }

        .card-img-overlay {
            &.card-img-overlay-block {
                position: absolute;
            }
            .form-group {
                margin-left:  15%;
                margin-right: 15%;
            }


        }
    }

    @include media-breakpoint-up(xxl) {
        .card-img-overlay {
            .form-group {
                margin-left:  30%;
                margin-right: 30%;
            }
        }
    }

}

@include media-breakpoint-down(xs) {
    .container {
        & > .card.card-overlay {
            margin-right: -($grid-gutter-width-base/2);
            margin-left:  -($grid-gutter-width-base/2);
        }
    }
}
