.card {
	display:block;
	border: none;
	background: none;
	margin-bottom:1rem;

	/*
		apply a background color to a card, also adds padding
	 	to sides so images have to be pulled back out
  	*/
	&.card-backed{
		padding-left: $grid-gutter-width/2;
		padding-right: $grid-gutter-width/2;
		background: #FFF;

		.card-header {
			border:none;
		}

		.card-media-wrap,
		.card-img,
		.card-img-top {
			&:first-child {
				margin-left:  -$grid-gutter-width/2;
				margin-right: -$grid-gutter-width/2;
				max-width:    calc(100% + #{$grid-gutter-width});

				&:before {
					display:block;
					height:50%;
					width:100%;
					background:red;
				}

			}
		}
		.card-media-wrap{
			.card-img,
			.card-img-top {
				&:first-child {
					margin: 0;
				}
			}
		}
	}

	@each $name, $color in $brand-colors-light {

		&.card-backed-#{$name},
		.card-panel.cards-backed &.card-backed-#{$name}{
			background: $color;
		}

		.card-panel.card-panel-#{$name} &.card-backed.card-header-split .card-header,
		.card-panel.card-panel-#{$name}.cards-header-split &.card-backed .card-header,
		.card-panel.card-panel-#{$name}.cards-backed.cards-header-split & .card-header{
			background: linear-gradient($color 50%, transparent 50%);
		}

	}

	@each $name, $color in $brand-colors-dark {

		&.card-backed-#{$name},
		.card-panel.cards-backed &.card-backed-#{$name}{
			background: $color;
			@extend .card-inverse;
		}

		.card-panel.card-panel-#{$name} &.card-backed.card-header-split .card-header,
		.card-panel.card-panel-#{$name}.cards-header-split &.card-backed .card-header,
		.card-panel.card-panel-#{$name}.cards-backed.cards-header-split & .card-header{
				background: linear-gradient($color 50%, transparent 50%);
		}

	}

	&.card-centered {
		@extend .text-xs-center;
	}

	.card-img-overlay {
		padding: 1rem;
		@each $breakpoint, $width in $grid-breakpoints {
			&.card-overlay-inline-#{$breakpoint} {
				@include media-breakpoint-down($breakpoint){
					position: inherit;
					padding: 2rem;
					clear: both;
					background: $brand-dark;
					color: #fff;

					// breakpoints can also have colors
					@each $name, $color in $brand-colors-dark {
						
						&.card-overlay-inline-#{$name} {
							background: $color;
							color: #fff;
						}			
					}

					&.card-overlay-inline-nopad{
						padding: 0;
					}
				}
			}
		}


	}
	.card-img-overlay-bottom{
		@extend .card-inverse;
		@extend .card-img-overlay;
		top:auto;
		background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
		padding-top: 3rem;
	}

	.card-body{
		display: block;
		position: relative;
	}

	.card-split{
		position: relative;
		padding: 0;
		overflow: hidden;

	}
	.card-half{
		position: relative;
		float:left;
		width: 50%;

	}

	.card-footer{
		background: transparent;
	}

	.card-title{
		font-family: $headings-font-family;
		color: $kent-primary;
		font-size: 1.1rem;
	}

	.card-meta{
		color: $text-muted;
		font-family: $font-family-sans-serif;
		font-size: 0.85rem;
		margin-bottom: 0.3rem;
	}

	.card-subtitle {
		color: $brand-primary;

	}

	& >	.card-text,
	& >	.card-subtitle,
	& >	.card-meta,
	& >	.card-badge{
		&:last-child{
			margin-bottom: $spacer;
		}
	}

	.card-img,
	.card-img-top,
	.card-img-bottom{
		@extend .img-fluid;
	}

	.card-img,
	.card-img-top, .card-media-wrap{
		&:first-child{
			margin-bottom: 0.75rem;
		}
	}

	.card-embed-wrap{
		iframe{
			pointer-events: none;
		}
	}

	.card-media-wrap, .card-embed-wrap {

		@extend .media-wrap;

	}

	&.card-inverse, .card-inverse{
		.card-title{
			color: #FFF;
		}
		.card-subtitle{
			color: rgba(255,255,255,.65);
		}
		.card-link,
		.card-text,
		.card-blockquote > footer {
			color: rgba(255,255,255,.75);
		}
	}

	ul{
		@include bullet-list;
	}

	.card-badge {
		text-decoration:none;
		margin-bottom: 1rem;

		&:before {
			color: $brand-accent; 
			margin-right:.2rem;
			position: relative;
			bottom: 0.1rem;
		}
	}

	.card-author {
		display:block;
		font-size: .9rem;
	    color: $gray;
	    
	    padding: .5em 0;
	    overflow:hidden;
	    line-height: 2rem;
	    margin-bottom: 1rem;
	    text-decoration: none;

	    img {
			@extend .img-fluid;
			@extend .img-circle;
	    	height: 2rem;
	    	float: left;
	    	margin-right:.5rem;
	    }
	}

	.card-bordered-item {
		border-bottom: 1px solid #ccc;
	    border-top: 1px solid #ccc;
	}

	.card-header{
		padding: inherit;
		background-color: transparent;
		border: none;
	}

	&.card-header-split {
		.card-header {
			background: linear-gradient(#ffffff 50%, transparent 50%);
			margin-left:  -$grid-gutter-width/2;
			margin-right: -$grid-gutter-width/2;

			.card-img,
			.card-img-top, 
			.card-media-wrap{
				&:first-child{
					width:70%;
					margin-left:15%;
					margin-right:15%;
				}
			}
		}
	}

	// if card is an A
	// @see http://stackoverflow.com/questions/17268051/sass-combining-parent-using-ampersand-with-base-element
	@at-root a#{&}, a {
		&:hover, &:focus {
			text-decoration: none;
			img{
				opacity: 0.7;
			}
		}
	}
}
